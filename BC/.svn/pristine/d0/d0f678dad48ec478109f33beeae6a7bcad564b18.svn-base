<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<meta http-equiv="Content-Language" content="en-gb">

<title>Guide to Modelling Predator-Prey Ecosystems</title>
</head>

<body>
<font face="Arial">
<h1>Guide to Modelling Predators-Prey Ecosystems</h1>
<p>Here we describe how to build a model of a simple ecosystem consisting of 
predators, prey, and plants using the
<a target="_blank" href="http://modelling4all.org/">BehaviourComposer</a>.</p>
<p>This document has links to all the micro-behaviours needed to construct the 
model. Additional behaviours are needed for building variants and enhancements. 
They can be found in <a href="Library.html">the full library of 
micro-behaviours</a>.</p>
<h2>Step 1. Create a prototypical predator</h2>
<ol>
	<li><font color="#800000">Rename</font> Prototype<sub>1</sub> to Wolf (or 
	your favourite predator). Click on <a href="#_BehaviourComposer_">Composer Area</a> 
	to go to the area containing Prototype<sub>1</sub>. Rename it by clicking on 
	the button labelled Prototype<sub>1</sub>.&nbsp; After doing that return here by 
	clicking on the <font color="#800000">Resources Area</font> at the top of 
	the screen.</li>
	<li>To set the shape of the wolf prototype go to the
	<a href="SET-SHAPE.html">SET-SHAPE</a> micro-behaviour. Replace 'fish' with one of the supported shapes (e.g. 
	'wolf 2' -- note that the space between the 'f' and the '2' is required). Click on the 'SET-SHAPE' micro-behaviour button and from the menu 
	select <font color="#800000">Rename</font>. Edit the name to something more informative such as 
	<b>Wolf shape</b> and click <font color="#800000">Save</font>. Click on the 
	renamed behaviour button to <font color="#800000">Add 
	it to your prototype</font>.</li>
	<li><font color="#800000">Open</font> <a href="SET-COLOR.html">SET-COLOR</a> 
	and edit the colour. <font color="#800000">Rename</font> the behaviour to 
	something more informative such as <b>Wolf colour</b>.
	<font color="#800000">Add it to your prototype</font>.</li>
	<li>Click on the <font color="#800000">Run your model</font> tab in the
	<a href="#_BehaviourComposer_">Composer Area</a>. A new window or tab will 
	appear. Click on <font color="#800000">Setup</font> to see your predator.</li>
</ol>
<h2>Step 2. Create a prototypical prey</h2>
<ol>
	<li>Click on <font color="#800000">New Prototype</font> in the the
	<a href="#_BehaviourComposer_">Composer Area</a>. <font color="#800000">
	Rename</font> Prototype<sub>2</sub> to Sheep (or if you pick a different 
	name then use that name later in the 
	<b><a href="INTERACT-WITH-ANOTHER.html#changes=cxtM3etzpKsnj1IyKNV664">Eat a 
	sheep now</a></b> 
	and
	<a href="http://m.modelling4all.org/p/en/MB.4/ADD-TO-PLOT.html#changes=eaQz7096qZsW-wJZZaDg4c"><b>Plot sheep</b></a>  
	micro-behaviours).</li>
	<li>Repeat step 1.2 with a different shape.</li>
	<li>Repeat step 1.3.</li>
	<li><font color="#800000">Run</font> your model in the
	<a href="#_BehaviourComposer_">Composer Area</a>.</li>
	<li>The location of the prototypes wasn't specified so they both begin in 
	the centre on top of each other. <font color="#800000">Add</font>
	<a href="SET-RANDOM-POSITION.html">SET-RANDOM-POSITION</a> to both to fix 
	this.</li>
	<li><font color="#800000">Run</font> your model in the
	<a href="#_BehaviourComposer_">Composer Area</a>.</li>
</ol>
<p>You should end up with your Composer Build tab looking something like this:</p>
<img border="0" src="images/predator-prey-guide-1.png" width="315" height="155"><h2>Step 3. Create an environment</h2>
<p>Depending upon the colours and shapes you chose the agents may be hard to 
see. Later we will model a renewable resource such as grass but for now just use
<a href="SET-BACKGROUND-COLOR.html">SET-BACKGROUND-COLOR</a> to provide a good 
background colour. <font color="#800000">Add it</font> to a
<font color="#800000">New Prototype</font> and <font color="#800000">Rename</font> 
it 'World', 'Environment', or the like. Change your prototype from <font color="#800000">Visible agent</font> to 
<font color="#800000">Invisible agent</font> so you don't see its default shape when running your model.</p>
<h2>Step 4. Make the predators and prey move</h2>
<p>We are planning on having interactions between agents occur when they occupy 
the same space. At least one kind of agent needs to move to enable these 
interactions. They could move in a goal-directed manner but for simplicity we 
will make them all wander randomly.</p>
<ol>
	<li><font color="#800000">Add</font>
	<a href="WANDER-RANDOMLY-BY-TURNING.html">WANDER-RANDOMLY-BY-TURNING</a> to 
	both of your prototypes. With this behaviour they will turn randomly and 
	move forward a constant amount each time step. (Optionally you can experiment 
	with other <a href="Library.html#Movement_section">movement behaviours</a>.)</li>
	<li><font color="#800000">Run your model</font> in the
	<a href="#_BehaviourComposer_">Composer Area</a>. Within the simulation 
	applet you will see a 'switch' labelled
	<font color="#800000">clocked</font>. If you toggle it to off then the applet will 
	run as fast as possible.</li>
</ol>
<h2>Step 5. Make many predators and prey</h2>
<p>We need an initial population of predators and prey.</p>
<ol>
	<li>Edit the text area above '<span class="Apple-style-span" style="border-collapse: separate; color: rgb(0, 0, 0); font-family: 'Times New Roman'; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; -webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium; "><span class="Apple-style-span" style="font-family: Verdana, Geneva, sans-serif; text-align: -webkit-left; font-size: small; ">How 
	many instances?' of the predator prototype to a larger number such as 10.</span></span></li>
	<li>Repeat for the prey prototype.</li>
	<li><font color="#800000">Run your model</font> in the
	<a href="#_BehaviourComposer_">Composer Area</a>.</li>
</ol>
<h2>Step 6. Model the eating of prey by predators</h2>
<p>To model predation we will have each predator eat one of the prey at the 
same patch of the environment (if there is one). For simplicity we will have the 
predators do this on every tick of the simulated clock. If we think of patches 
as fairly large and clock ticks as several days this isn't so unrealistic. We 
will model eating as the death of the prey and later will model the acquisition 
of energy as the result of eating.</p>
<ol>
	<li>An <b>
	<a href="INTERACT-WITH-ANOTHER.html#changes=cxtM3etzpKsnj1IyKNV664">Eat a 
	sheep now</a></b>
	micro-behaviour has already been made using <b>
	<a href="INTERACT-WITH-ANOTHER.html">INTERACT-WITH-ANOTHER</a> 
	</b>to 
	randomly pick a prey at the patch the predator is occupying and if there is 
	one to add the <b> <a href="DIE.html">DIE</a></b> behaviour to it<b>.
	</b></li>
	<li>To cause the predators to repeatedly eat prey click on the <b>
	<a href="INTERACT-WITH-ANOTHER.html#changes=cxtM3etzpKsnj1IyKNV664">Eat a 
	sheep now</a></b> button and select <font color="#800000">Enhance </font>
	followed by<font color="#800000"> Do Repeatedly</font>. It should look 
	like this:<br>
	<img border="0" src="images/predator-prey-guide-2.png" width="315" height="221"></li>
	<li><font color="#800000">Rename</font> <b>Eat a sheep now</b> to 
	<b>Eat sheep</b> or the like. </li>
	<li><font color="#800000">Add</font> your behaviour to 
	the predator.</li></li>
</ol>
<h2>Step 7. Model energy collection and consumption</h2>
<p>We can model energy by introducing an attribute of each predator that is the 
amount of energy it has. Predators lose energy each time step and gain energy when eating some prey. 
We will start the model with the energy of predators uniformly distributed.</p>
<ol>
	<li>Customise and <font color="#800000">rename</font> <a href="UPDATE-ATTRIBUTE.html">
	UPDATE-ATTRIBUTE</a> so that the first text boxes defines an attribute named 'my-energy'. (The 
	BehaviourComposer automates the task of declaring attributes if their name 
	begins with &quot;my-&quot;.) To give predators different 
	amounts of initial energy the initial value can be an expression such as
	<i>random-integer-between 1 40</i>.
	The behaviour should look something like this:<br>
	<img border="0" src="images/predator-prey-guide-3.png" width="407" height="272">
	</li><li>
	Add it to the predator prototype.</li>
    <li>Next we'll define a behaviour that will model the constant decrease in energy. 
    Customise and <font color="#800000">rename</font> 
	<a href="UPDATE-ATTRIBUTE-REPEATEDLY.html">UPDATE-ATTRIBUTE-REPEATEDLY</a> 
	so that <i>my-energy</i> is set to <i>my-energy - 1</i>. (Note that NetLogo 
	requires spaces on both sides of the minus sign.) Add it to the predator 
	prototype. It should look like this:<br>
<img border="0" src="images/predator-prey-guide-4.png" width="427" height="165"></li>
	<li>Customise and <font color="#800000">rename</font> <a href="UPDATE-ATTRIBUTE.html">
	UPDATE-ATTRIBUTE</a> again. Specify that <i>my-energy</i> is set to <i>
	my-energy + 20.</i> <font color="#800000">Add</font> this micro-behaviour to the
	<font color="#800000">My Additional Behaviours </font>list in the <b>
	<a href="INTERACT-WITH-ANOTHER.html#changes=cxtM3etzpKsnj1IyKNV664">Eat 
	sheep</a></b> behaviour.</li>
	<li>
	<a href="http://m.modelling4all.org/p/en/MB.4/WHENEVER_v2.html#changes=xNzQcKGOBYwzDqoCHTuI6e"><b>Die when no energy</b></a> was created by customising
	<a href="WHENEVER_v2.html">WHENEVER</a>. <font color="#800000">Add</font> it to 
	the predator prototype<font color="#800000">.</font></li>
	<li><font color="#800000">Run your model</font> in the
	<a href="#_BehaviourComposer_">Composer Area</a>. Can any predators survive? 
	Can any prey?</li>
</ol>
<h2>Step 8. Draw population graphs as the model unfolds</h2>
<ol>
	<li>First to create an empty graph we <font color="#800000">add</font> to
	<a href="http://m.modelling4all.org/p/en/MB.4/CREATE-EMPTY-AUTO-PLOT.html#changes=dDzgPeHQeSPwN5LrHBPc4c"><b>Empty populations plot</b></a> to a 
	<font color="#800000">new prototype</font>
	<font color="#800000">renamed</font> to <b>Observer</b> or the like. Check 
	the box labelled <font color="#800000">Hide this agent</font> so you don't see its default shape when running your model.</li>
<li><font color="#800000">Add</font>
<a href="http://m.modelling4all.org/p/en/MB.4/ADD-TO-PLOT.html#changes=Bi2mbKgoafFweA6X9b3J67"><b>Plot wolves</b></a> and
<a href="http://m.modelling4all.org/p/en/MB.4/ADD-TO-PLOT.html#changes=I_fW_uQhCej-B1CBTn3I5f"><b>Plot sheep</b></a> to the Observer prototype.</li>
	<li><font color="#800000">Run your model</font> in the
	<a href="#_BehaviourComposer_">Composer Area</a>. </li>
</ol>
<h2>Step 9. Model predator reproduction</h2>
<p>A very simple way to model reproduction is that each individual reproduces 
with some odds on each time step. For many purposes of studying predators and 
prey there is no need to model gender, sexual maturity, and sexual encounters.</p>
<ol>
	<li> <font color="#800000">Open</font> <a href="ADD-COPIES.html">ADD-COPIES</a> 
	and change the 9 to 1. <font color="#800000">Rename</font> the behaviour to 
	something like <b>Add a wolf</b>. </li>
	<li>We will 
	split the energy between the parent and offspring. To do so
	customise and <font color="#800000">rename</font>
	<a href="UPDATE-ATTRIBUTE.html">UPDATE-ATTRIBUTE</a> again (<b>Split energy</b> 
	is a good name). Specify that <i>my-energy</i> is set to <i>my-energy / 2 (note that NetLogo requires spaces on both sides of the /)</i>. </li>
	<li> <font color="#800000">Open</font> <a href="ADD-BEHAVIOURS.html">
	ADD-BEHAVIOURS</a> and rename it to <b>Wolf reproduction </b>or the like.</li>
	<li><font color="#800000">Add</font> the <b>Add a wolf </b>behaviour to the
	<font color="#800000">Behaviours</font> list on 
	the <b>Wolf reproduction </b>behaviour.</li>
	<li><font color="#800000">Add</font> the<b> Split energy </b>behaviour<b>
	</b>to the <font color="#800000">Behaviours</font> list on 
	<b>Wolf reproduction</b>. It is important the energy is halved <i>before</i> 
	the agent is copied so that the copy also gets half the energy so be sure 
	that the <b>Split energy </b>is above<b> Add a wolf.</b></li>
	<li>Click on the <b>Wolf reproduction </b>button and<b> </b>select
	<font color="#800000">Enhance </font>followed by<font color="#800000"> Do 
	with Probability.</font></li>
	<li>Edit the probability field to a small value (0.02 for example to model a 
	2% chance of reproducing on each turn).</li>
	<li>Click on the <b>Wolf reproduction </b>button and<b> </b>select
	<font color="#800000">Enhance </font>followed by<font color="#800000"> Do 
	Repeatedly </font>so this behaviour happens on every simulation cycle.</li>
	<li><font color="#800000">Add</font> <b>Wolf reproduction</b> to the predator prototype.</li>
	<li><font color="#800000">Run your model</font> in the
	<a href="#_BehaviourComposer_">Composer Area</a>. </li>
</ol>
<h2>Step 10. Model prey reproduction</h2>
<p>Do the same as step 9 possibly with a different probability or parameter. You 
can reuse the behaviour for splitting the energy.</p>
<h2>Step 11. Model vegetation</h2>
<p>We can introduce plants that the prey eats. After being eaten plants 
replenish themselves after a delay.</p>
<ol>
	<li>Create a <font color="#800000">new prototype</font> called Grass and
	<font color="#800000">add</font>
	<a href="http://m.modelling4all.org/p/en/MB.4/ADD-COPIES.html#changes=pdzdP0ggsZiEKkmirH0a6h">
	<b>Make grass</b></a> to it. This creates one grass agent for each patch of the 
	world.</li>
	<li>Because grass doesn't move we will display it by setting the colour of 
	the underlying patch. <font color="#800000">Add</font>
	<a href="http://m.modelling4all.org/p/en/MB.4/SET-SIZE.html#changes=aJUFRuSjyuCQCEFAQ8hc4g"><b>Grass is zero size</b></a> to the prototype. 
	Move it before the <b>Make grass</b>
	behaviour so that all grass agents have zero size.</li>
	<li>To spread the grass out one per patch <font color="#800000">add</font>
	<a href="http://m.modelling4all.org/p/en/MB.4/DO-AFTER-SETUP.html#changes=M6ACMu174XIRiplFu_Jf7b">
	<b>Layout grass</b></a> to the <b>Environment</b> prototype. 
	(If you were to add this to the Grass prototype then this would be run 
	hundreds of times -- once for each grass agent.)</li>
	<li><font color="#800000">Add</font>
	<a href="http://m.modelling4all.org/p/en/MB.4/REPEATEDLY-DO-BEHAVIOURS.html#changes=Wcz_sKBaM840q_t6GWLt4-"><b>Eat grass</b></a> to your prey prototype. 
	This repeatedly eats any green grass 
	that is in the same patch as the prey. Eating entails gaining energy, 
	setting the grass brown, and scheduling its recovery.</li>
	<li>Add a variant of the <b>Initial wolf energy</b> behaviour and the <b>Consume energy</b> behaviour created in Step 7.
	<li><font color="#800000">Add</font>
	<a href="http://m.modelling4all.org/p/en/MB.4/WHENEVER_v2.html#changes=xNzQcKGOBYwzDqoCHTuI6e"><b>Die when no energy</b></a>
	to the prey prototype.</li>
	<li>Add
	<a href="http://m.modelling4all.org/p/en/MB.4/ADD-TO-PLOT.html#changes=lE2qpeafilqqcVEH6C7l7e"><b>Plot grass</b></a> to the Observer prototype to graph the amount of green 
	grass (divided by 4 to have comparable scales).</li>
	<li><font color="#800000">Run your model</font> in the
	<a href="#_BehaviourComposer_">Composer Area</a>. Compare the fluctuations 
	of the predator and prey with and without plants.</li>
</ol>
<h2>Step 12. Help us improve this</h2>
<p>Please fill in this
<a target="_blank" href="https://spreadsheets.google.com/viewform?formkey=dDdzSGdQOER0djJHdVUybXpGZ2hwLXc6MA">
short questionnaire</a>.</p>
<p>This guide was inspired by the
<a target="_blank" href="http://ccl.northwestern.edu/netlogo/models/WolfSheepPredation">
NetLogo Wolf Sheep Predation model</a>. It runs significantly faster than the 
model constructed here. You may wish to experiment with it.</p>
<p>Here is a
<a href="http://m.modelling4all.org/m/?frozen=jpe0tegIuZhvnGrs22gv76&MforAllModel=1">sample predator-prey model</a> that adds sliders for several of the parameters of this model 
for easy experimentation.</p>
</font>
</body>

</html>