<HTML>
<HTML>










<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">

<META content="text/html; charset=UTF-8" http-equiv="Content-Type">


<META content="text/html; charset=UTF-8" http-equiv="Content-Type">



<META content="text/html; charset=UTF-8" http-equiv="Content-Type">




<META content="text/html; charset=UTF-8" http-equiv="Content-Type">





<META content="text/html; charset=windows-1252" http-equiv="Content-Type">





<TITLE>Guide to modelling an epidemic</TITLE>





</HEAD>






<BODY>






<span lang="EN-GB"><font size="4"><b>

</b>




<p align="CENTER">




<b></b>




</p>






<p>




<i>The following is being used with third-year biology students at Oxford 
University.</i>




</p>




<b>
</b>




<p>




<b>BD 3.5 Practical: Individual Based Models</b>




</p>





</font><font color="#111111">





<p>Here we will model a disease by building interactions of individuals rather 
than modelling mathematically with variables that represent entire populations.
</p>





<p>After accomplishing the first five steps you'll have a model equivalent to 
the SIR model you have already built in R. But the methodology here is very 
different: the program describes the behaviours of individuals and the behaviour 
of the population emerges. The SIR model you built in R describes populations. 
After building the equivalent model you'll explore the influence of spatial and 
social heterogeneity on the spread of diseases. This would be very hard to model 
analytically with equations that model populations. </p>





<p>At various stages in the steps below we ask you to provide answers to 
questions:
<a href="http://spreadsheets.google.com/embeddedform?key=pdhY0JtDUP9ffzyATluCURw" target="_blank">
please add your answers to this online form</a> when you are prompted. To start 
with please go to the form and add your name and email address.</p> 




</font>
<font size="4">
<b>
</b>




<p>




<b>Step 1. Start the program.</b>




</p>





</font>





<p>Use this <a href="http://modelling4all.nsms.ox.ac.uk/Resources/Composer/en/MBs/Epidemic-Libary.html">library of micro-behaviour for 
modelling epidemics</a>.</p>





<p>Click on
<a href="http://modelling4all.nsms.ox.ac.uk/Model/?model=nwku5ewcv4tQFokW3q3_65">INITIAL MODEL</a> 
to load a model containing only a population of susceptible individuals and 
some technical machinery. This model has no infected individuals or a mechanism 
for spreading an infection; these are things you will will add here.</p>





<font size="4"><b>
</b>




<p>




<b>Step 2. Explore the initial model</b>




</p>





</font>





<p>You should be starting with a model that includes only susceptible  
people.</p>





<p>Click on the <i>RUN </i> button in the <i>Behaviour Composer </i>tab and then NetLogo, a different 
modelling tool is launched inside the browser with the model constructed so far. Click on NetLogo's
<i>SETUP</i> button to initialise the model. It should look like this:</p>





</span><span lang="EN"><font face="Arial" size="2">





<p align="CENTER"></p>





</font></span><span lang="EN-GB">





<p>Try changing the slider labelled <b>the-initial-susceptible-population</b> and 
then click on the <i>SETUP </i>button to see its effect. To move the slider by 
small amounts, set it slider near the desired value and click the mouse to the 
left or right to move it by one unit. </p>





<p>Pressing the <i>GO</i> button does nothing since we have yet to introduce 
infected individuals or any other behaviours.</p>





<font size="4"><b>
</b>




<p>




<b>Step 3. Create some infected individuals</b>




</p>





</font>





<p>Click on this web page <b><a href="http://modelling4all.nsms.ox.ac.uk/Resources/Composer/en/MBs/CREATE-INITIAL-INFECTED-POPULATION.html">CREATE-INITIAL-INFECTED-POPULATION</a></b> 
with the micro-behaviour and add it to the <i><b>Person</b></i> prototype to 
create the initial infected population. Then click on the 
greyed-out micro-behaviour of the <i><b>Observer</b></i> labelled <b>CREATE-INITIAL-INFECTED-COUNT-SLIDER</b> and 
select <i>Activate</i>. Run your model and you'll see an infected individual 
displayed in red after clicking on <i>SETUP</i>.</p>





<font size="4"><b>
</b>




<p>




<b>Step 4. Spread the infection</b>




</p>





</font>





<p>The simplest way to model encounters is where an individual randomly 
encounters another and probabilistically infects that person. This is 
implemented by the <b>RANDOM-ENCOUNTER</b> micro-behaviour. Browse for it and 
add it to <i><b>Person</b></i>. It needs the <b>CREATE-ENCOUNTER-RATE-SLIDER</b> and <b>
CREATE-INFECTION-ODDS-SLIDER</b> micro-behaviours, which are already in the list 
of <b><i>Observer</i></b> behaviours so click on them and activate them.</p>





<p>Run your model: click <i>RUN</i>, click <i>SETUP</i> and finally <i>
GO</i>. What happens?</p>





<p>Please go to the answer form to question 4a.</p>





<font size="4"><b>
</b>




<p>




<b>Step 5. Add plots to see what is happening</b>




</p>





</font>





<p>It is hard to get a sense of the big picture without graphs. Browse 
for and add <b>CREATE-EMPTY-POPULATIONS-PLOT, ADD-SUSCEPTIBLE-TO-POPULATIONS-PLOT</b> and <b>
ADD-INFECTED-TO-POPULATIONS-PLOT </b>to <b><i>Observer</i> </b>to create a graph 
and to plot the two populations.</p>





<p>eRun the model again and sketch what you see -- you may need to scroll down the 
screen to see the plot.</p>





<font size="4"><b>
</b>




<p>




<b>Step 6. Replace the random encounter with one based upon social networks</b>




</p>





</font>





<p>In above model that you have just made, each individual had an equal chance 
of contacting any other. We can incorporate a range of non-random encounters, while keeping the 
average number of contacts the same (we have set this figure to four). </p>



<p>Inactivate the <b>RANDOM-ENCOUNTER</b> behaviour and add the <b>
RANDOM-SOCIAL-ENCOUNTER</b> to <b>Person</b>. </p>



<p>Add <b>INITIALISE-SOCIAL-NETWORK-CONSTANT-SYMMETRIC</b>. Here each individual has the 
same number of potential contacts, called<i> acquaintances</i>. Disease can 
transfer only between individuals that are acquaintances (symmetric just refers 
to the fact that if A is an acquaintance of B then B is also an acquaintance of 
A). Add this to Observer since it is one behaviour that creates relationships 
for the entire population.</p>





<p>Run this model. Does it change the progression of the disease compared to the one where everyone had an equal chance of contacting any other? Why? **** No, no reason for it to differ</p>





<p>You can show lines of social contact (linking to the four 'acquaintances') 
and subsequent lines of infection by the following. Add <b>
DISPLAY-LINE-TO-EACH-OF-MY-ACQUAINTANCES</b> to <b>Person</b>. Reduce the number 
of susceptible individuals to about 10 and run the model.<br>


</p>





<p>Showing lines of contact is rather confusing with more than a handful of individuals so we 
replace lines of social contact with a variable size of the individual: the 
bigger the more social contacts. Inactivate <b>
DISPLAY-LINE-TO-EACH-OF-MY-ACQUAINTANCES</b> and add <b>
SET-SIZE-PROPORTIONAL-TO-NUMBER-OF-MY-ACQUAINTANCES</b> and <b>
DISPLAY-LINE-OF-INFECTION</b> to <b>Person</b>. Since 
everyone has four acquaintances when <b>
INITIALISE-SOCIAL-NETWORK-CONSTANT-SYMMETRIC</b> 
is used the sizes are the same now. Run the model until it stops (<b>STOP-EVERYTHING-WHEN</b> 
causes it to stop after 50 cycles). </p>


<p>If you run your model within NetLogo you can 
save the plot after running this by right clicking any where over the plot and choosing the '<i>copy image</i>' option. 
You may wish to choose '<i>select</i>' first and make the plot much bigger. Open 
up Word or your favourite word processor and paste the image of the plot into 
your document and write a caption. Alternatively you can use the 'Print Screen' 
facility in most operating systems to capture the screen as an image. *** Ken: move this to end of step 5 ***<br>

</p>

<p>Step 7. Compare different social networks<br>

</p>

<p>Inactivate <span class="Apple-style-span" style="font-weight: bold; ">INITIALISE-SOCIAL-NETWORK-CONSTANT-SYMMETRIC and investigate the effect of using other social networks</span> (remember that you need to add the micro-behaviours and inactivate the previous one)<br>

</p>





<p>

<b>INITIALISE-SOCIAL-NETWORK-NORMAL-DISTRIBUTION-SYMMETRIC</b>. Here 
instead of each individual having the same number of acquaintances, we use a 
normal distribution (the familiar bell-shaped curve) with mean of four, so some 
individuals have more and some have fewer acquaintances. See how more 'popular' individuals become infected quicker. </p>





<p>

<b>INITIALISE-SOCIAL-NETWORK-POWER-LAW-DISTRIBUTION-SYMMETRIC</b>. Here we 
use a power distribution to determine how many acquaintances an individual has: a small number have very many while most have few. The power law distribution more accurately represents the situation in a 
sexually transmitted disease such as AIDS in a population where some individuals 
have a very large number of encounters while others are monogamous or nearly so. 
Run the model for a second or two until you see different size images of people.</p>
</span>






<p>Does these different networks change the progression of the disease? Why? *** there will be no big difference because encounter rate the same<br>
</p>
<p>
<span class="Apple-style-span" style="font-size: 18px; font-weight: bold; ">Step 8. Make the encounter rate depends upon the number of acquaintances.</span>
<br>
</p>





<p>




<font size="4">The </font>

	<a href="http://modelling4all.nsms.ox.ac.uk/Resources/Composer/en/MBs/CREATE-ENCOUNTER-RATE-SLIDER.html" title="CREATE-ENCOUNTER-RATE-SLIDER">

	CREATE-ENCOUNTER-RATE-SLIDER</a> behaviour models a the same number of 
encounters per time period for all individuals. Explore the consequences of 
replacing it with

	<a href="http://modelling4all.nsms.ox.ac.uk/Resources/Composer/en/MBs/CREATE-ENCOUNTER-FRACTION-SLIDER.html" title="CREATE-ENCOUNTER-RATE-SLIDER">CREATE-ENCOUNTER-FRACTION-SLIDER</a> 
which creates a slider for the fraction of the acquaintances encountered per 
time period. Remember to remove or inactivate the old

	<a href="http://modelling4all.nsms.ox.ac.uk/Resources/Composer/en/MBs/CREATE-ENCOUNTER-RATE-SLIDER.html" title="CREATE-ENCOUNTER-RATE-SLIDER">

	CREATE-ENCOUNTER-RATE-SLIDER</a>.</p>
<p>Repeat step 7. Now the encounter rate varies along upon the social network. Compare the three networks. Do they differ in the rate at which the disease progresses? How?</p>
<p>
<span class="Apple-style-span" style="font-size: 18px; font-weight: bold; ">Step 9. Explore the removal of the most promiscuous 
individuals.</span>
<br>
</p>





<p>By adding

	<a href="http://modelling4all.nsms.ox.ac.uk/Resources/Composer/en/MBs/REMOVE-SUPER-NODES.html">REMOVE-SUPER-NODES</a> and

	<a href="http://modelling4all.nsms.ox.ac.uk/Resources/Composer/en/MBs/CREATE-NUMBER-OF-SUPER-NODES-REMOVED-SLIDER.html">CREATE-NUMBER-OF-SUPER-NODES-REMOVED-SLIDER</a>  
to <b>Observer</b> you can control how many of the most highly linked 
individuals are removed from the model (perhaps they can be vaccinated or 
educated).</p>
<p>Remove the 10 most highly connected individuals from each of the networks. What effect does it have? ••• ken, wuld this be a good point to get students to upload data to your spreadsheet so they can pool data</p>





<p>
<span class="Apple-style-span" style="font-size: 18px; font-weight: bold;">Step 10. Individual Based Models</span>
</p>
<p><span class="Apple-style-span" style="font-size: 18px; font-weight: bold;">If you made multiple runs for sections 8 and 9 you will have observed one very important property of Individual Based Models. What is that? Why is it important for modelling disease? What part of the modelling of whole populations that you have done in R resembled it in some way? *** Answer: disease may not take off if starts in unconnected individual, or spread faster if starts in highly connected individual. Introducing important probabilistic element to disease outbreak. Nearest we have seen to this in the aggregate population model in R was caused by the rounding function (where it was almost accidental)</span></p>





<p>When you run your model it is saved. Copy and paste the HTTP address at the top of your screen and email it to
<font size="3">
to
<a href="mailto:kenneth.kahn@it.ox.ac.uk">kenneth.kahn@it.ox.ac.uk</a>.</font>
</p>


































</BODY>
</HTML>
</HTML>
